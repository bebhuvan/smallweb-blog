---
import blogsData from '../../data/blogs.json';
import postsData from '../../data/cache/posts.json';
import { formatDateTimeUtc } from '../lib/dates';

const blogCount = blogsData.blogs.length;
const postCount = postsData.posts?.length || 0;
const lastUpdatedRaw = postsData.lastUpdated || '';
const lastUpdated = formatDateTimeUtc(lastUpdatedRaw) || 'Unknown';
---

<footer class="footer">
  <div class="footer-info">
    <strong>{blogCount}</strong> blogs · <strong>{postCount}</strong> posts · last updated {lastUpdated} · no ads, ever
  </div>
  <div class="footer-links">
    <a href="/feed">Feed</a>
    <a href="/discover">Discover</a>
    <a href="/archive">Archive</a>
    <a href="/blogs">Blogroll</a>
    <a href="/install">Install App</a>
    <a href="/about">About</a>
    <a href="https://github.com/bebhuvan/smallweb-blog" target="_blank" rel="noopener noreferrer">GitHub</a>
    <a href="/rss.xml" style="color:var(--accent)">RSS</a>
  </div>
</footer>
